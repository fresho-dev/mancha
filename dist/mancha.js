(()=>{"use strict";var __webpack_modules__={246:function(__unused_webpack_module,exports,__webpack_require__){var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function c(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}l((n=n.apply(e,t||[])).next())}))},_a,_b,_c,_d;Object.defineProperty(exports,"__esModule",{value:!0});const core_1=__webpack_require__(283);class RendererImpl extends core_1.IRenderer{parseDocumentFragment(e){return(new DOMParser).parseFromString(e,"text/html")}serializeDocumentFragment(e){return(new XMLSerializer).serializeToString(e)}replaceNodeWith(e,t){e.replaceWith(...t)}}const Mancha=new RendererImpl;if(self.Mancha=Mancha,null===(_b=null===(_a=self.document)||void 0===_a?void 0:_a.currentScript)||void 0===_b?void 0:_b.hasAttribute("init")){const vars=(0,core_1.datasetAttributes)(self.document.currentScript.attributes),attributes=Array.from((null===(_c=self.document.currentScript)||void 0===_c?void 0:_c.attributes)||[]).reduce(((e,t)=>Object.assign(e,{[t.name]:t.value})),{}),targets=(null===(_d=attributes.target)||void 0===_d?void 0:_d.split(","))||["body"],renderings=targets.map((e=>__awaiter(void 0,void 0,void 0,(function*(){const t=self.document[e];t.replaceWith(yield Mancha.renderDocument(t,vars))}))));Promise.all(renderings).then((()=>{attributes.onrender&&eval(attributes.onrender),dispatchEvent(new Event("mancha-render",{bubbles:!0}))}))}exports.default=Mancha},283:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function c(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IRenderer=t.resolvePath=t.folderPath=t.datasetAttributes=t.preprocess=t.decodeHtmlAttrib=t.encodeHtmlAttrib=t.traverse=void 0;const i=r(975);function o(e){const t=[],r=Array.from(e.childNodes);for(;r.length;){const e=r.pop();t.push(e),e.childNodes&&e.childNodes.forEach((e=>r.push(e)))}return t}function a(e){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#13;/g,"\n")}function c(e,t){return Object.keys(t).forEach((r=>{e=e.replace(new RegExp(`{{\\s?${r}\\s?}}`,"g"),t[r])})),e}function l(e){return Array.from(e).filter((e=>e.name.startsWith("data-"))).reduce(((e,t)=>(e[t.name.substring(5)]=t.value,e)),{})}function s(e){return e.endsWith("/")?e.slice(0,-1):i.dirname(e)}t.traverse=o,t.encodeHtmlAttrib=function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,"&#13;").replace(/[\r\n]/g,"&#13;")},t.decodeHtmlAttrib=a,t.preprocess=c,t.datasetAttributes=l,t.folderPath=s,t.resolvePath=function e(t){if(t.includes("://")){const[r,n]=t.split("://",2);return`${r}://${e("/"+n).substring(1)}`}return i.resolve(t)},t.IRenderer=class{preprocess(e,t){return Object.keys(t).forEach((r=>{e=e.replace(new RegExp(`{{\\s?${r}\\s?}}`,"g"),t[r])})),e}renderLocalPath(e,t={},r="utf8"){throw new Error("Not implemented.")}renderRemotePath(e){return n(this,arguments,void 0,(function*(e,t={},r=10){const n=yield fetch(e).then((e=>e.text()));return this.renderString(n,t,s(e),r)}))}renderString(e){return n(this,arguments,void 0,(function*(e,t={},r=null,n=10){const i=c(e,t),o=this.parseDocumentFragment(i);return this.renderDocument(o,t,r,n)}))}renderDocument(e){return n(this,arguments,void 0,(function*(e,t={},r=null,c=10){r=r||s(self.location.href);const u=o(e).map((e=>e)).filter((e=>{var t;return"include"===(null===(t=e.tagName)||void 0===t?void 0:t.toLocaleLowerCase())})).map((e=>n(this,void 0,void 0,(function*(){const n=function(e,t){for(const t of e.attributes)if("src"===t.name)return t.value;return null}(e),o=l(e.attributes);if(Object.keys(o).forEach((e=>t[e]=a(o[e]))),!n)throw new Error(`"src" attribute missing from ${e}.`);const s=t=>{this.replaceNodeWith(e,Array.from(t.childNodes))};if(-1!==n.indexOf("://"))yield this.renderRemotePath(n,t,c-1).then(s);else if(-1!==(null==r?void 0:r.indexOf("://"))){const e=`${r}/${n}`;yield this.renderRemotePath(e,t,c-1).then(s)}else if("/"===n.charAt(0))yield this.renderLocalPath(n,t).then(s);else{const e=i.join(r,n);yield this.renderLocalPath(e,t).then(s)}}))));if(yield Promise.all(u),0===u.length)return e;if(0===c)throw new Error("Maximum recursion depth reached.");return this.renderDocument(e,t,r,c--)}))}}},975:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,a=0,c=0;c<=e.length;++c){if(c<e.length)r=e.charCodeAt(c);else{if(47===r)break;r=47}if(47===r){if(o===c-1||1===a);else if(o!==c-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=c,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=c,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,c):n=e.slice(o+1,c),i=c-o-1;o=c,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,i=47===a.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,c=1;c<r.length&&47===r.charCodeAt(c);++c);for(var l=r.length-c,s=a<l?a:l,u=-1,h=0;h<=s;++h){if(h===s){if(l>s){if(47===r.charCodeAt(c+h))return r.slice(c+h+1);if(0===h)return r.slice(c+h)}else a>s&&(47===e.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(i+h);if(d!==r.charCodeAt(c+h))break;47===d&&(u=h)}var f="";for(h=i+u+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(c+u):(c+=u,47===r.charCodeAt(c)&&++c,r.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var c=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var s=e.charCodeAt(n);if(47===s){if(!a){i=n+1;break}}else-1===l&&(a=!1,l=n+1),c>=0&&(s===r.charCodeAt(c)?-1==--c&&(o=n):(c=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,a=0,c=e.length-1;c>=0;--c){var l=e.charCodeAt(c);if(47!==l)-1===i&&(o=!1,i=c+1),46===l?-1===r?r=c:1!==a&&(a=1):-1!==r&&(a=-1);else if(!o){n=c+1;break}}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var a=-1,c=0,l=-1,s=!0,u=e.length-1,h=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(s=!1,l=u+1),46===i?-1===a?a=u:1!==h&&(h=1):-1!==a&&(h=-1);else if(!s){c=u+1;break}return-1===a||-1===l||0===h||1===h&&a===l-1&&a===c+1?-1!==l&&(r.base=r.name=0===c&&o?e.slice(1,l):e.slice(c,l)):(0===c&&o?(r.name=e.slice(1,a),r.base=e.slice(1,l)):(r.name=e.slice(c,a),r.base=e.slice(c,l)),r.ext=e.slice(a,l)),c>0?r.dir=e.slice(0,c-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}var __webpack_exports__=__webpack_require__(246)})();